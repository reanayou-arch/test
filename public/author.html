<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Horror-Studio ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url("https://i.ibb.co/5YqkF5X/dark-bg.jpg") no-repeat center center fixed;
      background-size: cover;
      color: white;
    }

    .overlay {
      background: rgba(0,0,0,0.65);
      min-height: 100vh;
      padding: 30px 15px;
    }

    h1 {
      text-align: center;
      font-size: 34px;
      margin-bottom: 30px;
    }

    .panel {
      max-width: 700px;
      margin: auto;
      background: rgba(255,255,255,0.08);
      border-radius: 18px;
      padding: 25px;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }

    label {
      display: block;
      margin-top: 20px;
      font-size: 15px;
      opacity: 0.9;
    }

    input, textarea {
      width: 100%;
      margin-top: 6px;
      padding: 12px;
      border-radius: 12px;
      border: none;
      outline: none;
      background: rgba(255,255,255,0.15);
      color: white;
      font-size: 15px;
    }

    textarea {
      min-height: 90px;
      resize: vertical;
    }

    .characters {
      margin-top: 25px;
    }

    .char-card {
      margin-top: 15px;
      padding: 15px;
      border-radius: 14px;
      background: rgba(0,0,0,0.35);
      display: flex;
      gap: 15px;
      align-items: flex-start;
    }

    .char-avatar {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      flex-shrink: 0;
    }

    .char-fields {
      flex: 1;
    }

    button {
      width: 100%;
      margin-top: 25px;
      padding: 14px;
      border-radius: 14px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      background: rgba(180,40,60,0.85);
      color: white;
      transition: 0.2s;
    }

    button:hover {
      background: rgba(220,60,80,0.95);
    }

    .small-btn {
      margin-top: 10px;
      background: rgba(70,130,180,0.75);
    }

    .small-btn:hover {
      background: rgba(90,160,220,0.9);
    }

    .back {
      margin-top: 15px;
      background: rgba(255,255,255,0.15);
    }

    .back:hover {
      background: rgba(255,255,255,0.25);
    }
  </style>
</head>

<body>
  <div class="overlay">

    <h1>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ö–æ—Ä—Ä–æ—Ä-–∏—Å—Ç–æ—Ä–∏–∏</h1>

    <div class="panel">

      <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
      <input id="title" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏..."/>

      <label>–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –ò–ò:</label>
      <textarea id="aiDesc" placeholder="–û–ø–∏—à–∏—Ç–µ —Å—é–∂–µ—Ç, –∞—Ç–º–æ—Å—Ñ–µ—Ä—É, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..."></textarea>

      <label>–ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è:</label>
      <textarea id="past" placeholder="–ß—Ç–æ –±—ã–ª–æ –¥–æ –Ω–∞—á–∞–ª–∞ –∏—Å—Ç–æ—Ä–∏–∏..."></textarea>

      <label>–ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ü–µ–Ω–∞:</label>
      <textarea id="start" placeholder="–° —á–µ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å—é–∂–µ—Ç..."></textarea>

      <div class="characters">
        <h2>–ü–µ—Ä—Å–æ–Ω–∞–∂–∏:</h2>

        <div id="charList"></div>

        <button class="small-btn" onclick="addCharacter()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
      </div>

      <button onclick="saveStory()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>

      <button class="back" onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>

    </div>
  </div>

  <script>
    let characters = [];

    function addCharacter() {
      const newChar = {
        name: "",
        role: "",
        secret: ""
      };
      characters.push(newChar);
      renderCharacters();
    }

    function renderCharacters() {
      const container = document.getElementById("charList");
      container.innerHTML = "";

      characters.forEach((c, index) => {
        container.innerHTML += `
          <div class="char-card">
            <div class="char-avatar"></div>
            <div class="char-fields">
              <input placeholder="–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞..."
                value="${c.name}"
                onchange="characters[${index}].name=this.value">

              <input placeholder="–†–æ–ª—å –≤ —Å—é–∂–µ—Ç–µ..."
                value="${c.role}"
                onchange="characters[${index}].role=this.value">

              <textarea placeholder="–•–∞—Ä–∞–∫—Ç–µ—Ä –∏ —Ç–∞–π–Ω—ã..."
                onchange="characters[${index}].secret=this.value">${c.secret}</textarea>
            </div>
          </div>
        `;
      });
    }

    function saveStory() {
      const story = {
        title: document.getElementById("title").value,
        aiDesc: document.getElementById("aiDesc").value,
        past: document.getElementById("past").value,
        start: document.getElementById("start").value,
        characters: characters
      };

      localStorage.setItem("horror_story_temp", JSON.stringify(story));

      alert("‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (–ø–æ–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)");
    }

    function goBack() {
      window.location.href = "index.html";
    }
  </script>

</body>
</html>
